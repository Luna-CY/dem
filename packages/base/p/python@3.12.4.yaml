home-page: ""
description: ""
package-name: "python@3.12.4"

platforms:
    darwin-arm64:
        paths:
            - "{ROOT}/bin"
        downloads:
            -   name: "Python 3.12.4 Source"
                url: "https://www.python.org/ftp/python/3.12.4/Python-3.12.4.tgz"
                target: "{ROOT}/source/Python-3.12.4.tar.gz"
        depends:
            - "xz@5.6.2"
            - "zlib@1.3.1"
            - "gdbm@1.23"
            - "openssl@3.3.1"
        install:
            - "tar -zxf {ROOT}/source/Python-3.12.4.tar.gz -C {ROOT}/source/"
            - "cd {ROOT}/source/Python-3.12.4/ && LDFLAGS='-L{PKG:xz@5.6.2}/lib -L{PKG:zlib@1.3.1}/lib -L{PKG:gdbm@1.23}/lib' CFLAGS='-I{PKG:xz@5.6.2}/include -I{PKG:zlib@1.3.1}/include -I{PKG:gdbm@1.23}/include' ./configure --prefix={ROOT} --with-openssl={PKG:openssl@3.3.1}/ --enable-optimizations"
            - "cd {ROOT}/source/Python-3.12.4/ && make && make install"
        uninstall:
            - "rm -rf {ROOT}/"
    darwin-amd64:
        paths:
            - "{ROOT}/bin"
        downloads:
            -   name: "Python 3.12.4 Source"
                url: "https://www.python.org/ftp/python/3.12.4/Python-3.12.4.tgz"
                target: "{ROOT}/source/Python-3.12.4.tar.gz"
        depends:
            - "xz@5.6.2"
            - "zlib@1.3.1"
            - "gdbm@1.23"
            - "openssl@3.3.1"
        install:
            - "tar -zxf {ROOT}/source/Python-3.12.4.tar.gz -C {ROOT}/source/"
            - "cd {ROOT}/source/Python-3.12.4/ && LDFLAGS='-L{PKG:xz@5.6.2}/lib -L{PKG:zlib@1.3.1}/lib -L{PKG:gdbm@1.23}/lib' CFLAGS='-I{PKG:xz@5.6.2}/include -I{PKG:zlib@1.3.1}/include -I{PKG:gdbm@1.23}/include' ./configure --prefix={ROOT} --with-openssl={PKG:openssl@3.3.1}/ --enable-optimizations"
            - "cd {ROOT}/source/Python-3.12.4/ && make && make install"
        uninstall:
            - "rm -rf {ROOT}/"
